create database socialmedia;
--**SOCIAL MEDIA**
use socialmedia;
--*USERS TABLE*
create table USERS(
UserId INT PRIMARY KEY,
UserName VARCHAR(30) NOT NULL,
EMAIL VARCHAR(50) UNIQUE NOT NULL,
DATE_OF_BIRTH DATE NOT NULL, 
GENDER VARCHAR(1) NOT NULL,--M(MALE) OR F(FEMALE)
JoinDate DATE NOT NULL );
INSERT INTO USERS(UserId,UserName,EMAIL,DATE_OF_BIRTH,GENDER,JoinDate)
VALUES (12,'hagar_11','hagar22@gmail.com','2005-4-4','f','2023-2-10'),
       (14, 'AHMED_11','ahmed33@gmail.com','2012-12-2','m','2020-4-11'),
	   (16, 'NORA_15',' nora44@gmail.com ','2008-11-11','f','2019-10-9')
	  
--*POSTS TABLE*
create table POSTS (
POST_ID INT PRIMARY KEY,
CONTENT VARCHAR(200) NOT NULL,
POST_DATE DATE NOT NULL ,
VISIBILITY VARCHAR(20) NOT NULL,
UserId INT,
FOREIGN KEY (UserId)REFERENCES USERS (UserId)
);

INSERT INTO  POSTS(POST_ID,CONTENT,POST_DATE,VISIBILITY,UserId)
           VALUES (18,'backend course with GDGC AL-Azhar' ,'2021-3-5','public',12),
		          (17,'front end course is very useful', '2021-3-3', 'private',16),
				  (11,'start your journey toward excellence', '2020-9-9', 'public',14);
				  
--*INTERACTION TABLE* 
create table INTERACTIONS (
INTERACTION_ID INT PRIMARY KEY,
INTERACTION_TYPE  VARCHAR(20) NOT NULL, 
INTERACTION_DATE DATE NOT NULL);
INSERT INTO INTERACTIONS (INTERACTION_ID,INTERACTION_TYPE,INTERACTION_DATE)
             VALUES(10, 'COMMENT','2024-1-1'),
			       (2, 'LIKE','2024-2-2'),
				   (33,'SHARE','2023-9-2');
				   SELECT * FROM  INTERACTIONS;
--*COMMENTS TABLE*
CREATE TABLE COMMENTS (
COMMENT_ID INT PRIMARY KEY,
COMMENT_CONTENT VARCHAR(200) NOT NULL,
COMMENT_DATE DATE NOT NULL,
UserId int,
POST_ID INT ,
FOREIGN KEY (UserID) REFERENCES USERS (UserId),
FOREIGN KEY (POST_ID) REFERENCES POSTS (POST_ID));
--ALTER TABLE COMMENTS ADD UserId INT;
--ALTER TABLE COMMENTS ADD FOREIGN KEY (UserId) REFERENCES USERS (UserId);
--ALTER TABLE COMMENTS ADD POST_ID INT;
--ALTER TABLE COMMENTS  ADD FOREIGN KEY (POST_ID ) REFERENCES POSTS (POST_ID );
--ALTER TABLE COMMENTS ADD COMMENT_DATE DATE NOT NULL;
INSERT INTO COMMENTS(COMMENT_ID,COMMENT_CONTENT,COMMENT_DATE,UserId,POST_ID)
            VALUES (9,'AMAZING COURSE','2021-01-01',14,18),
			        (4,'I LIKE THIS COURSE','2023-12-12',16,11),
					(3,'ALL THE BEST', '2022-11-11',12,17);
-- *interact tabler*
create table interact (
UserId INT ,
POST_ID INT , 
INTERACTION_ID INT,
PRIMARY KEY(UserId,POST_ID,INTERACTION_ID),
FOREIGN  KEY (UserId) REFERENCES USERS (UserId),
FOREIGN KEY (POST_ID)REFERENCES POSTS (POST_ID),
FOREIGN KEY (INTERACTION_ID)REFERENCES INTERACTIONS(INTERACTION_ID)
);
INSERT INTO  interact(UserId,POST_ID,INTERACTION_ID)
VALUES(12,18,10),
      (14,17,2),
	  (16,11,33);

	  
/*================================================================*/
 SELECT * FROM USERS ;
 SELECT * FROM POSTS;
 SELECT * FROM INTERACTIONS;
SELECT * FROM COMMENTS;
SELECT * FROM interact;

delete from USERS;
DROP DATABASE socialmedia; 

